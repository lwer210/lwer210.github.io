---
title: 웹 애플리케이션의 보안 취약성에 대해 알아보자
date: 2025-05-27 19:52:00 +0900 
categories: [Web]
tags: [web, security]
---

# 🗣️ **서론**
평화롭게 iOS 사이드 프로젝트에서 사용할 회원가입, 로그인  API를 Spring 프레임워크를 사용하여 구현하고 있던 어느날

기능 구현은 머리속에서 그려지는데 `Spring Security`에 내부 동작이나 웹 보안의 이론이 부족한 것이 느껴졌고, 겸사겸사 `Spring Security`와 웹 보안에 대해 공부를 시작하게되었다.

오늘은 **웹 애플리케이션의 취약성들**에 대해 공부하였는데 모두 이름은 들어봤지만 제대로 알지는 못했기 때문에 주기적으로 볼겸 겸사겸사 블로그 글로 끄적인다.

# ❓ **취약성이란?**
보통 웹을 공격하려고 하는 공격자들은 공격을 하기 전에 먼저 공격할 애플리케이션에 취약성을 파악하고 공략한다.

취약성은 악의적 의도를 가지고 원치 않는 작업을 수행하는데 이용할 수 있는 약점이다.

오늘 공부한 취약성들은 아래와 같다.
- 인증 취약성
- 세션 고정
- XSS(교차 사이트 스크립팅)
- CSRF(사이트 간 요청 위조)
- 주입
- 기밀 데이터 노출
- 메서드 접근 제어 부족
- 알려진 취약성이 있는 종속성 이용

이제 하나씩 알아보자.

## 🔐 **인증 취약성**
이 취약성을 이해하기 위해선 먼저 인증과 권한 부여 개념이 잡혀있어야한다.

- **인증(Authentication)**: 애플리케이션을 이용하려는 사람을 식별하는 과정
- **권한 부여(Authorization)**: 인증 작업이 끝난 후 인증된 사용자가 어떤 기능과 데이터에 접근하여 이용할 수 있는 권리가 있는지 확인하는 과정

이렇게 글로 봤을땐 좀 어려울 수 있지만 쉽게 생각하면 **인증은 로그인**이고, 

**권한 부여는 로그인한 사용자가 관리자라면 관리자 기능에 접근할 수 있게 해주고 일반 사용자라면 사용자 기능에만 접근하게 해주는 것**라고 생각하면 된다.

인증 취약성을 신경쓰지 않고 기능 개발에만 집중하여 데이터 수준에 제한이 없으면 한 사용자가 다른 사용자의 데이터를 이용할 수 있는 허점이 생길 수 있다.

## 🔗 **세션 고정**
세션 고정 취약성은 웹에 인증 과정 중 고유한 세션 ID를 할당하지 않고 기존 세션 ID를 재사용했을 때 발생할 수 있다.

요즘은 세션 쿠키 인증을 잘 사용하지 않고 대부분 JWT 토큰을 사용하지만, 알아둬서 나쁠 거 없다.

## 💀 **XSS(교차 사이트 스크립팅)**
XSS는 웹 페이지에 악성 스크립트를 주입해 다른 사용자의 브라우저에서 강제로 실행되게 만드는 공격이다.

설명이 살짝 이해가 안된다면 클라이언트(사용자 브라우저)를 속여 악성 스크립트를 실행시킨다. 정도로만 이해하면 된다.


## 🎭 **CSRF(사이트 간 요청 위조)**
CSRF는 많이들 알고 있는 웹에 흔한 취약성이다.

간단하게 CSRF 공격의 프로세스를 예시를 들어서 설명하겠다.

1. 사용자가 정상적으로 서비스에 로그인한다.

2. 사용자는 로그인 상태로 악성 사이트가 심어진 페이지로 이동한다.

3. 악성 페이지는 사용자를 대신해 인증 쿠키가 포함된 요청을 타깃 사이트에 몰래 보낸다.

4. 타깃 사이트는 정상적인 요청으로 인식해 공격자가 의도한 작업을 수행한다.

위 예시와 같이 CSRF는 악성 페이지가 로그인된 사용자의 인증정보(쿠키 등)를 이용해 몰래 요청을 보내도록 만드는 공격이다.


## 🧪 **주입 취약성**
주입 공격은 시스템에 특정 데이터를 유입하는 취약성을 이용한다.

이 공격에 목표로는 시스템에 피해를 주고 데이터를 변경하거나 원래는 접근할 수 없는 데이터를 검색하는 것에 있다.

정보처리기능사 시험을 준비해본 사람이라면 한번쯤 들어봤을 `SQL Injection` 또한 주입 공격에 한 종류이다.

주입은 시스템의 데이터 변경, 삭제와 같은 문제들을 유발할 수 있는 중요한 취약성 유형이다.

## 🔒 **민감한 데이터 노출 처리하기**
이 부분은 사실 개발을 조금 해본 사람들은 누구나 그 중요성을 알 수 있다.

예를 들어 발급한 `API key`를 github와 같은 저장소에 올리면 안되며 민감한 정보들은 따로 환경 설정 파일 내부에서 관리하도록 해야한다.

예를 들자면 프론트엔드에서 사용하는 민감한 정보는 `.env` 파일에, `Java/Spring` 기반 백엔드에서 사용하는 민감한 정보는 `application.properties` 또는 `application.yml` 파일에 저장하는 것처럼 말이다.

> 혹시나 해서 참고용으로만 작성해보자면...이런 민감한 정보들은 로그에 기록해선 안된다.

## 🚫 **메서드 접근 제어 부족**
권한이 없거나 인증이 되지 않은 사용자가 접근할 수 없는 메서드에 접근하는 것을 말한다.

쉽게 생각하면 일반 사용자가 관리자만 사용할 수 있는 기능에 접근한 것이라고 생각하면 이해하기 쉬울 것이다.

메서드 접근 제어 설정은 꼭 하도록 하자.

예시
```java
@PreAuthorize("hasRole('ADMIN')") // Spring Security에서 제공하는 어노테이션
public void deleteUser(String userId) {
    ...
}
```

`@PreAuthorize` 어노테이션: 메서드 실행 전 권한 검사

## 🧩 **알려진 취약성이 있는 종속성 이용**
보통 개발하는 애플리케이션이 아니라 기능을 만들기 위해 이용하는 라이브러리나 프레임워크 같은 종속성에는 취약성이 있을 수 있다.

다행스럽게도 `Maven`, `Gradle` 구성에 플러그인을 추가해주면 빠르게 정적 분석 수행이 가능하다.

제일 좋은 방법은 취약성이 발견된 종속성 사용은 최대한 피해야만한다.

# 🔥 **느낀점**
보안에 관해서는 각잡고 공부해본적이 없었지만 이번에 공부하면서 그동안 말로만 들었던 개념들을 공부할 수 있어서 좋았다. 

보안이라는 개념 자체가 너무 생소해서 개념을 잡는데에는 시간이 조금 걸릴 것 같다.